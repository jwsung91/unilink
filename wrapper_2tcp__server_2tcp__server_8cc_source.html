<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>unilink: unilink/wrapper/tcp_server/tcp_server.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">unilink
   &#160;<span id="projectnumber">0.4.0</span>
   </div>
   <div id="projectbrief">A simple C++ library for unified async communication</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('wrapper_2tcp__server_2tcp__server_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">tcp_server.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="wrapper_2tcp__server_2tcp__server_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright 2025 Jinwoo Sung</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *     http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * limitations under the License.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wrapper_2tcp__server_2tcp__server_8hpp.html">unilink/wrapper/tcp_server/tcp_server.hpp</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;atomic&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;boost/asio/executor_work_guard.hpp&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;boost/asio/io_context.hpp&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;chrono&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;mutex&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;stdexcept&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;thread&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_8hpp.html">unilink/base/common.hpp</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tcp__server__config_8hpp.html">unilink/config/tcp_server_config.hpp</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="channel__factory_8hpp.html">unilink/factory/channel_factory.hpp</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="transport_2tcp__server_2tcp__server_8hpp.html">unilink/transport/tcp_server/tcp_server.hpp</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceunilink.html">unilink</a> {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">namespace </span>wrapper {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html">   36</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html">TcpServer::Impl</a> {</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a4267ee74f678bf1e8f35fad91e3a717f">   37</a></span>&#160;  <span class="keyword">mutable</span> std::mutex <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a4267ee74f678bf1e8f35fad91e3a717f">mutex_</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10e97ab04797fc1bfcf6f1d785cd634c">   38</a></span>&#160;  uint16_t <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10e97ab04797fc1bfcf6f1d785cd634c">port_</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">   39</a></span>&#160;  std::shared_ptr&lt;interface::Channel&gt; <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a16281559ccf16cb8df32c458fcbee2e1">   40</a></span>&#160;  std::shared_ptr&lt;boost::asio::io_context&gt; <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a16281559ccf16cb8df32c458fcbee2e1">external_ioc_</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ac55ff9f1031b108605323f6a22acf9bf">   41</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ac55ff9f1031b108605323f6a22acf9bf">use_external_context_</a>{<span class="keyword">false</span>};</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#aa9821e7dcad9bccf16387726a320e49e">   42</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#aa9821e7dcad9bccf16387726a320e49e">manage_external_context_</a>{<span class="keyword">false</span>};</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a7990304f06b1994f2decbc9996c35bd5">   43</a></span>&#160;  std::thread <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a7990304f06b1994f2decbc9996c35bd5">external_thread_</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ac4c1719442280ca5fc75a2e4f319409e">   44</a></span>&#160;  std::unique_ptr&lt;boost::asio::executor_work_guard&lt;boost::asio::io_context::executor_type&gt;&gt; <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ac4c1719442280ca5fc75a2e4f319409e">work_guard_</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a723d7e47bee4d8ce2f882949a23eeb4b">   46</a></span>&#160;  std::vector&lt;std::promise&lt;bool&gt;&gt; <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a723d7e47bee4d8ce2f882949a23eeb4b">pending_promises_</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a66df77eb6f2bb7a35b1c6b60da0873af">   47</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a66df77eb6f2bb7a35b1c6b60da0873af">started_</a>{<span class="keyword">false</span>};</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a2ad917f41fa296841f5d3371fee0fd6b">   48</a></span>&#160;  std::atomic&lt;bool&gt; <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a2ad917f41fa296841f5d3371fee0fd6b">is_listening_</a>{<span class="keyword">false</span>};</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="comment">// Configuration</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ab709e97ae055daa9ab5eac9901e4ed72">   51</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ab709e97ae055daa9ab5eac9901e4ed72">auto_manage_</a>{<span class="keyword">false</span>};</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#acc754b1bedbc5426ba62ecf552b9ee27">   52</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#acc754b1bedbc5426ba62ecf552b9ee27">port_retry_enabled_</a>{<span class="keyword">false</span>};</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad99d9d52c6629b949fd1515dc8d26722">   53</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad99d9d52c6629b949fd1515dc8d26722">max_port_retries_</a>{3};</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a8f3477df42b1fcbe0f6321fe5598189d">   54</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a8f3477df42b1fcbe0f6321fe5598189d">port_retry_interval_ms_</a>{1000};</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a5f0d7044cbe8bc06f925ad6c602a9d1b">   55</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a5f0d7044cbe8bc06f925ad6c602a9d1b">idle_timeout_ms_</a>{0};</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afea8423f2eeca59f5239173af8492419">   56</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afea8423f2eeca59f5239173af8492419">client_limit_enabled_</a>{<span class="keyword">false</span>};</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#af74107c041d44b81b6313b6d4f7121c8">   57</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#af74107c041d44b81b6313b6d4f7121c8">max_clients_</a>{0};</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a15697310912330736e6aa14b2f677a8a">   58</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a15697310912330736e6aa14b2f677a8a">notify_send_failure_</a>{<span class="keyword">false</span>};</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10defb582fb338ff5d688e929e793a57">   60</a></span>&#160;  <a class="code" href="classunilink_1_1wrapper_1_1ServerInterface.html#a9e34226680bde780c9197a2e9f52cd3b">ConnectionHandler</a> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10defb582fb338ff5d688e929e793a57">on_client_connect_</a>{<span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a132e8d75878579382aa6337aa79fac65">   61</a></span>&#160;  <a class="code" href="classunilink_1_1wrapper_1_1ServerInterface.html#a9e34226680bde780c9197a2e9f52cd3b">ConnectionHandler</a> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a132e8d75878579382aa6337aa79fac65">on_client_disconnect_</a>{<span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad23799728d1a8e808982031d7b010bf4">   62</a></span>&#160;  <a class="code" href="classunilink_1_1wrapper_1_1ServerInterface.html#ac5bec7fa6fd4dfea7cda4ded6334e9e6">MessageHandler</a> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad23799728d1a8e808982031d7b010bf4">on_data_</a>{<span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10e13cecb8abba84705b61aac61b3c51">   63</a></span>&#160;  <a class="code" href="classunilink_1_1wrapper_1_1ServerInterface.html#a9cdd888c893263e473aa6d11dc183fd5">ErrorHandler</a> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10e13cecb8abba84705b61aac61b3c51">on_error_</a>{<span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a24a6121e7c7c101043d8eb569bbde7b3">   65</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a24a6121e7c7c101043d8eb569bbde7b3">Impl</a>(uint16_t port)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      : <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10e97ab04797fc1bfcf6f1d785cd634c">port_</a>(port),</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a66df77eb6f2bb7a35b1c6b60da0873af">started_</a>(false),</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a2ad917f41fa296841f5d3371fee0fd6b">is_listening_</a>(false),</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ab709e97ae055daa9ab5eac9901e4ed72">auto_manage_</a>(false),</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#acc754b1bedbc5426ba62ecf552b9ee27">port_retry_enabled_</a>(false),</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad99d9d52c6629b949fd1515dc8d26722">max_port_retries_</a>(3),</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a8f3477df42b1fcbe0f6321fe5598189d">port_retry_interval_ms_</a>(1000),</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a5f0d7044cbe8bc06f925ad6c602a9d1b">idle_timeout_ms_</a>(0),</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afea8423f2eeca59f5239173af8492419">client_limit_enabled_</a>(false),</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#af74107c041d44b81b6313b6d4f7121c8">max_clients_</a>(0),</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a15697310912330736e6aa14b2f677a8a">notify_send_failure_</a>(false) {}</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ae7f852047d73a75ac48dc9d29bacd1a0">   78</a></span>&#160;  <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ae7f852047d73a75ac48dc9d29bacd1a0">Impl</a>(uint16_t port, std::shared_ptr&lt;boost::asio::io_context&gt; external_ioc)</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      : <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10e97ab04797fc1bfcf6f1d785cd634c">port_</a>(port),</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a16281559ccf16cb8df32c458fcbee2e1">external_ioc_</a>(std::move(external_ioc)),</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ac55ff9f1031b108605323f6a22acf9bf">use_external_context_</a>(<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a16281559ccf16cb8df32c458fcbee2e1">external_ioc_</a> != nullptr),</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#aa9821e7dcad9bccf16387726a320e49e">manage_external_context_</a>(false),</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a66df77eb6f2bb7a35b1c6b60da0873af">started_</a>(false),</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a2ad917f41fa296841f5d3371fee0fd6b">is_listening_</a>(false),</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ab709e97ae055daa9ab5eac9901e4ed72">auto_manage_</a>(false),</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#acc754b1bedbc5426ba62ecf552b9ee27">port_retry_enabled_</a>(false),</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad99d9d52c6629b949fd1515dc8d26722">max_port_retries_</a>(3),</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a8f3477df42b1fcbe0f6321fe5598189d">port_retry_interval_ms_</a>(1000),</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a5f0d7044cbe8bc06f925ad6c602a9d1b">idle_timeout_ms_</a>(0),</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afea8423f2eeca59f5239173af8492419">client_limit_enabled_</a>(false),</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#af74107c041d44b81b6313b6d4f7121c8">max_clients_</a>(0),</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a15697310912330736e6aa14b2f677a8a">notify_send_failure_</a>(false) {}</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a8b8ab1b95d8a945e14a5d161828e729d">   94</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a8b8ab1b95d8a945e14a5d161828e729d">Impl</a>(std::shared_ptr&lt;interface::Channel&gt; channel)</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      : <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10e97ab04797fc1bfcf6f1d785cd634c">port_</a>(0),</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a>(std::move(channel)),</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a66df77eb6f2bb7a35b1c6b60da0873af">started_</a>(false),</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a2ad917f41fa296841f5d3371fee0fd6b">is_listening_</a>(false),</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ab709e97ae055daa9ab5eac9901e4ed72">auto_manage_</a>(false),</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#acc754b1bedbc5426ba62ecf552b9ee27">port_retry_enabled_</a>(false),</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad99d9d52c6629b949fd1515dc8d26722">max_port_retries_</a>(3),</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a8f3477df42b1fcbe0f6321fe5598189d">port_retry_interval_ms_</a>(1000),</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a5f0d7044cbe8bc06f925ad6c602a9d1b">idle_timeout_ms_</a>(0),</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afea8423f2eeca59f5239173af8492419">client_limit_enabled_</a>(false),</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#af74107c041d44b81b6313b6d4f7121c8">max_clients_</a>(0),</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a15697310912330736e6aa14b2f677a8a">notify_send_failure_</a>(false) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afa02bec7c4ffe754aa0a8b2da4f135a5">setup_internal_handlers</a>();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad40cf9e0518b8f75c7ef7288d1432c91">  110</a></span>&#160;  <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad40cf9e0518b8f75c7ef7288d1432c91">~Impl</a>() {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ab5a016578e5da644275d050caa2319be">stop</a>();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afccae4ae6f049cec7c0bec115ce35ea7">  117</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afccae4ae6f049cec7c0bec115ce35ea7">fulfill_all</a>(<span class="keywordtype">bool</span> value) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    std::lock_guard&lt;std::mutex&gt; lock(<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a4267ee74f678bf1e8f35fad91e3a717f">mutex_</a>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a723d7e47bee4d8ce2f882949a23eeb4b">pending_promises_</a>) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        p.set_value(value);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a723d7e47bee4d8ce2f882949a23eeb4b">pending_promises_</a>.clear();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#acde93124f9a0055182ac36eadca0c7b2">  128</a></span>&#160;  std::future&lt;bool&gt; <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#acde93124f9a0055182ac36eadca0c7b2">start</a>() {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    std::lock_guard&lt;std::mutex&gt; lock(<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a4267ee74f678bf1e8f35fad91e3a717f">mutex_</a>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a2ad917f41fa296841f5d3371fee0fd6b">is_listening_</a>) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      std::promise&lt;bool&gt; p;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      p.set_value(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keywordflow">return</span> p.get_future();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    std::promise&lt;bool&gt; p;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">auto</span> f = p.get_future();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a723d7e47bee4d8ce2f882949a23eeb4b">pending_promises_</a>.push_back(std::move(p));</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a66df77eb6f2bb7a35b1c6b60da0873af">started_</a>) <span class="keywordflow">return</span> f;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a>) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="structunilink_1_1config_1_1TcpServerConfig.html">config::TcpServerConfig</a> config;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      config.<a class="code" href="structunilink_1_1config_1_1TcpServerConfig.html#adce24401c84899b16320f528185f6636">port</a> = <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10e97ab04797fc1bfcf6f1d785cd634c">port_</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      config.<a class="code" href="structunilink_1_1config_1_1TcpServerConfig.html#adfd80011af7aae2a169f7c9d6cc853ee">enable_port_retry</a> = <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#acc754b1bedbc5426ba62ecf552b9ee27">port_retry_enabled_</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      config.<a class="code" href="structunilink_1_1config_1_1TcpServerConfig.html#ad4a94a582a7659cc4caf2c2c28e2f43b">max_port_retries</a> = <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad99d9d52c6629b949fd1515dc8d26722">max_port_retries_</a>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      config.<a class="code" href="structunilink_1_1config_1_1TcpServerConfig.html#af01c976217548c39bb297fd76b3298d0">port_retry_interval_ms</a> = <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a8f3477df42b1fcbe0f6321fe5598189d">port_retry_interval_ms_</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      config.<a class="code" href="structunilink_1_1config_1_1TcpServerConfig.html#a23e893ec9a547edc4b3bf9f63309643e">idle_timeout_ms</a> = <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a5f0d7044cbe8bc06f925ad6c602a9d1b">idle_timeout_ms_</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a> = <a class="code" href="classunilink_1_1factory_1_1ChannelFactory.html#ab3a1a57092352b627809138adadb34a6">factory::ChannelFactory::create</a>(config, <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a16281559ccf16cb8df32c458fcbee2e1">external_ioc_</a>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afa02bec7c4ffe754aa0a8b2da4f135a5">setup_internal_handlers</a>();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afea8423f2eeca59f5239173af8492419">client_limit_enabled_</a>) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keyword">auto</span> transport_server = std::dynamic_pointer_cast&lt;transport::TcpServer&gt;(<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">if</span> (transport_server) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#af74107c041d44b81b6313b6d4f7121c8">max_clients_</a> == 0)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            transport_server-&gt;set_unlimited_clients();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            transport_server-&gt;set_client_limit(<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#af74107c041d44b81b6313b6d4f7121c8">max_clients_</a>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a>-&gt;start();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ac55ff9f1031b108605323f6a22acf9bf">use_external_context_</a> &amp;&amp; <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#aa9821e7dcad9bccf16387726a320e49e">manage_external_context_</a> &amp;&amp; !<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a7990304f06b1994f2decbc9996c35bd5">external_thread_</a>.joinable()) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ac4c1719442280ca5fc75a2e4f319409e">work_guard_</a> = std::make_unique&lt;boost::asio::executor_work_guard&lt;boost::asio::io_context::executor_type&gt;&gt;(</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;          <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a16281559ccf16cb8df32c458fcbee2e1">external_ioc_</a>-&gt;get_executor());</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a7990304f06b1994f2decbc9996c35bd5">external_thread_</a> = std::thread([ioc = <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a16281559ccf16cb8df32c458fcbee2e1">external_ioc_</a>]() {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;          ioc-&gt;run();</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      });</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a66df77eb6f2bb7a35b1c6b60da0873af">started_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">return</span> f;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ab5a016578e5da644275d050caa2319be">  176</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ab5a016578e5da644275d050caa2319be">stop</a>() {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordtype">bool</span> should_join = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      std::unique_lock&lt;std::mutex&gt; lock(<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a4267ee74f678bf1e8f35fad91e3a717f">mutex_</a>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a66df77eb6f2bb7a35b1c6b60da0873af">started_</a>) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a723d7e47bee4d8ce2f882949a23eeb4b">pending_promises_</a>) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;          <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            p.set_value(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;          } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;          }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a723d7e47bee4d8ce2f882949a23eeb4b">pending_promises_</a>.clear();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a>) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a>-&gt;on_bytes(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a>-&gt;on_state(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keyword">auto</span> transport_server = std::dynamic_pointer_cast&lt;transport::TcpServer&gt;(<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">if</span> (transport_server) transport_server-&gt;request_stop();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a>-&gt;stop();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ac55ff9f1031b108605323f6a22acf9bf">use_external_context_</a> &amp;&amp; <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#aa9821e7dcad9bccf16387726a320e49e">manage_external_context_</a>) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ac4c1719442280ca5fc75a2e4f319409e">work_guard_</a>) <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ac4c1719442280ca5fc75a2e4f319409e">work_guard_</a>.reset();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a16281559ccf16cb8df32c458fcbee2e1">external_ioc_</a>) <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a16281559ccf16cb8df32c458fcbee2e1">external_ioc_</a>-&gt;stop();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        should_join = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a723d7e47bee4d8ce2f882949a23eeb4b">pending_promises_</a>) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;          p.set_value(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a723d7e47bee4d8ce2f882949a23eeb4b">pending_promises_</a>.clear();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a66df77eb6f2bb7a35b1c6b60da0873af">started_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a2ad917f41fa296841f5d3371fee0fd6b">is_listening_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (should_join &amp;&amp; <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a7990304f06b1994f2decbc9996c35bd5">external_thread_</a>.joinable()) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a7990304f06b1994f2decbc9996c35bd5">external_thread_</a>.join();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    std::lock_guard&lt;std::mutex&gt; lock(<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a4267ee74f678bf1e8f35fad91e3a717f">mutex_</a>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a>.reset();</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afa02bec7c4ffe754aa0a8b2da4f135a5">  222</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afa02bec7c4ffe754aa0a8b2da4f135a5">setup_internal_handlers</a>() {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keyword">auto</span> transport_server = std::dynamic_pointer_cast&lt;transport::TcpServer&gt;(<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (transport_server) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      transport_server-&gt;on_multi_connect([<span class="keyword">this</span>](<span class="keywordtype">size_t</span> <span class="keywordtype">id</span>, <span class="keyword">const</span> std::string&amp; info) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10defb582fb338ff5d688e929e793a57">on_client_connect_</a>) <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10defb582fb338ff5d688e929e793a57">on_client_connect_</a>(<a class="code" href="classunilink_1_1wrapper_1_1ConnectionContext.html">ConnectionContext</a>(<span class="keywordtype">id</span>, info));</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      });</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      transport_server-&gt;on_multi_data([<span class="keyword">this</span>](<span class="keywordtype">size_t</span> <span class="keywordtype">id</span>, <span class="keyword">const</span> std::string&amp; data) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad23799728d1a8e808982031d7b010bf4">on_data_</a>) <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad23799728d1a8e808982031d7b010bf4">on_data_</a>(<a class="code" href="classunilink_1_1wrapper_1_1MessageContext.html">MessageContext</a>(<span class="keywordtype">id</span>, data));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      });</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      transport_server-&gt;on_multi_disconnect([<span class="keyword">this</span>](<span class="keywordtype">size_t</span> <span class="keywordtype">id</span>) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a132e8d75878579382aa6337aa79fac65">on_client_disconnect_</a>) <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a132e8d75878579382aa6337aa79fac65">on_client_disconnect_</a>(<a class="code" href="classunilink_1_1wrapper_1_1ConnectionContext.html">ConnectionContext</a>(<span class="keywordtype">id</span>));</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      });</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">channel_</a>-&gt;on_state([<span class="keyword">this</span>](<a class="code" href="namespaceunilink_1_1base.html#a309474018616d324e14830540edab75c">base::LinkState</a> state) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="keywordflow">if</span> (state == <a class="code" href="namespaceunilink_1_1base.html#a309474018616d324e14830540edab75ca962ef616821625a13a028ac14ac0fef8">base::LinkState::Listening</a>) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a2ad917f41fa296841f5d3371fee0fd6b">is_listening_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afccae4ae6f049cec7c0bec115ce35ea7">fulfill_all</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (state == <a class="code" href="namespaceunilink_1_1base.html#a309474018616d324e14830540edab75ca902b0d55fddef6f8d651fe1035b7d4bd">base::LinkState::Error</a> || state == <a class="code" href="namespaceunilink_1_1base.html#a309474018616d324e14830540edab75ca03f4a47830f97377a35321051685071e">base::LinkState::Closed</a>) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a2ad917f41fa296841f5d3371fee0fd6b">is_listening_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afccae4ae6f049cec7c0bec115ce35ea7">fulfill_all</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">if</span> (state == <a class="code" href="namespaceunilink_1_1base.html#a309474018616d324e14830540edab75ca902b0d55fddef6f8d651fe1035b7d4bd">base::LinkState::Error</a> &amp;&amp; <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10e13cecb8abba84705b61aac61b3c51">on_error_</a>) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;          <a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10e13cecb8abba84705b61aac61b3c51">on_error_</a>(<a class="code" href="classunilink_1_1wrapper_1_1ErrorContext.html">ErrorContext</a>(<a class="code" href="namespaceunilink.html#a718d86a87600ed5b3b4e597324c5d84aaf05cfcbf5123775f7c73e520a8d861e1">ErrorCode::IoError</a>, <span class="stringliteral">&quot;Server disconnected&quot;</span>));</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    });</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;};</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#af1dc28050ac533e03d8c494b7b8c97ca">  251</a></span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#af1dc28050ac533e03d8c494b7b8c97ca">TcpServer::TcpServer</a>(uint16_t port) : pimpl_(std::make_unique&lt;<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html">Impl</a>&gt;(port)) {}</div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#a5bc41fee48262f0cbb58a5c4566b889b">  252</a></span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#af1dc28050ac533e03d8c494b7b8c97ca">TcpServer::TcpServer</a>(uint16_t port, std::shared_ptr&lt;boost::asio::io_context&gt; ioc)</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    : pimpl_(std::make_unique&lt;<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html">Impl</a>&gt;(port, ioc)) {}</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#ac1f14d6b223187382defc3a6b9ec454b">  254</a></span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#af1dc28050ac533e03d8c494b7b8c97ca">TcpServer::TcpServer</a>(std::shared_ptr&lt;interface::Channel&gt; ch) : pimpl_(std::make_unique&lt;<a class="code" href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html">Impl</a>&gt;(ch)) {}</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#a9836ef31e1f4c1531528ee252ea69d25">TcpServer::~TcpServer</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#a1217e27e16fa0451b75300009aedf017">  257</a></span>&#160;std::future&lt;bool&gt; <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#a1217e27e16fa0451b75300009aedf017">TcpServer::start</a>() { <span class="keywordflow">return</span> pimpl_-&gt;start(); }</div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#a41196195d706a2409f1bc3273e31d5be">  258</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#a41196195d706a2409f1bc3273e31d5be">TcpServer::stop</a>() { pimpl_-&gt;stop(); }</div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#a00ec7f00722335d8291854aafd381d96">  259</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#a00ec7f00722335d8291854aafd381d96">TcpServer::is_listening</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> pimpl_-&gt;is_listening_.load(); }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#a45b4eb1fb1e8cd8786bf240b765d7181">  261</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#a45b4eb1fb1e8cd8786bf240b765d7181">TcpServer::broadcast</a>(std::string_view data) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">if</span> (pimpl_-&gt;channel_) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keyword">auto</span> transport_server = std::dynamic_pointer_cast&lt;transport::TcpServer&gt;(pimpl_-&gt;channel_);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (transport_server) <span class="keywordflow">return</span> transport_server-&gt;broadcast(std::string(data));</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#a0cd0713924d54d16eb3c42005c277d16">  269</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#a0cd0713924d54d16eb3c42005c277d16">TcpServer::send_to</a>(<span class="keywordtype">size_t</span> client_id, std::string_view data) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">if</span> (pimpl_-&gt;channel_) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keyword">auto</span> transport_server = std::dynamic_pointer_cast&lt;transport::TcpServer&gt;(pimpl_-&gt;channel_);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">if</span> (transport_server) <span class="keywordflow">return</span> transport_server-&gt;send_to_client(client_id, std::string(data));</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#a379244c1bfcda52a7a25f6038de3f484">  277</a></span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1ServerInterface.html">ServerInterface</a>&amp; <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#a379244c1bfcda52a7a25f6038de3f484">TcpServer::on_client_connect</a>(<a class="code" href="classunilink_1_1wrapper_1_1ServerInterface.html#a9e34226680bde780c9197a2e9f52cd3b">ConnectionHandler</a> h) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  pimpl_-&gt;on_client_connect_ = std::move(h);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#ad44939f72c0a63490822845e7b2b02a3">  281</a></span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1ServerInterface.html">ServerInterface</a>&amp; <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#ad44939f72c0a63490822845e7b2b02a3">TcpServer::on_client_disconnect</a>(<a class="code" href="classunilink_1_1wrapper_1_1ServerInterface.html#a9e34226680bde780c9197a2e9f52cd3b">ConnectionHandler</a> h) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  pimpl_-&gt;on_client_disconnect_ = std::move(h);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#a30745a9e9f88247048edef18045f2e11">  285</a></span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1ServerInterface.html">ServerInterface</a>&amp; <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#a30745a9e9f88247048edef18045f2e11">TcpServer::on_data</a>(<a class="code" href="classunilink_1_1wrapper_1_1ServerInterface.html#ac5bec7fa6fd4dfea7cda4ded6334e9e6">MessageHandler</a> h) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  pimpl_-&gt;on_data_ = std::move(h);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div>
<div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#af9f81ab409fae99f9b02da5187e49957">  289</a></span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1ServerInterface.html">ServerInterface</a>&amp; <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#af9f81ab409fae99f9b02da5187e49957">TcpServer::on_error</a>(<a class="code" href="classunilink_1_1wrapper_1_1ServerInterface.html#a9cdd888c893263e473aa6d11dc183fd5">ErrorHandler</a> h) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  pimpl_-&gt;on_error_ = std::move(h);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#af36b3dfe54edca2ea39a980d14729131">  294</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#af36b3dfe54edca2ea39a980d14729131">TcpServer::get_client_count</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">if</span> (!pimpl_-&gt;channel_) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keyword">auto</span> transport_server = std::dynamic_pointer_cast&lt;transport::TcpServer&gt;(pimpl_-&gt;channel_);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">return</span> transport_server ? transport_server-&gt;get_client_count() : 0;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#ac5362ca889c5b2ed23984be1ada34ec3">  300</a></span>&#160;std::vector&lt;size_t&gt; <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#ac5362ca889c5b2ed23984be1ada34ec3">TcpServer::get_connected_clients</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">if</span> (!pimpl_-&gt;channel_) <span class="keywordflow">return</span> std::vector&lt;size_t&gt;();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keyword">auto</span> transport_server = std::dynamic_pointer_cast&lt;transport::TcpServer&gt;(pimpl_-&gt;channel_);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordflow">return</span> transport_server ? transport_server-&gt;get_connected_clients() : std::vector&lt;size_t&gt;();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#ac36e719caf5109a29e2255af720873af">  306</a></span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html">TcpServer</a>&amp; <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#ac36e719caf5109a29e2255af720873af">TcpServer::auto_manage</a>(<span class="keywordtype">bool</span> m) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  pimpl_-&gt;auto_manage_ = m;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">if</span> (pimpl_-&gt;auto_manage_ &amp;&amp; !pimpl_-&gt;started_) <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#a1217e27e16fa0451b75300009aedf017">start</a>();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;}</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#a7feb0465a5329983630fe6e353b2ddf5">  312</a></span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html">TcpServer</a>&amp; <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#a7feb0465a5329983630fe6e353b2ddf5">TcpServer::enable_port_retry</a>(<span class="keywordtype">bool</span> e, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> i) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  pimpl_-&gt;port_retry_enabled_ = e;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  pimpl_-&gt;max_port_retries_ = m;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  pimpl_-&gt;port_retry_interval_ms_ = i;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#a3bf24d44d971410dd337b58e6e7153db">  319</a></span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html">TcpServer</a>&amp; <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#a3bf24d44d971410dd337b58e6e7153db">TcpServer::idle_timeout</a>(<span class="keywordtype">int</span> ms) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  pimpl_-&gt;idle_timeout_ms_ = ms;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="comment">// Note: Runtime change of idle_timeout is not supported by current transport.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="comment">// Must be set via Builder before start().</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#a8a1e8782aea8681f5c08a0bed88db5b9">  326</a></span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html">TcpServer</a>&amp; <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#a8a1e8782aea8681f5c08a0bed88db5b9">TcpServer::set_client_limit</a>(<span class="keywordtype">size_t</span> max) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  pimpl_-&gt;max_clients_ = max;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  pimpl_-&gt;client_limit_enabled_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordflow">if</span> (pimpl_-&gt;channel_) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keyword">auto</span> transport_server = std::dynamic_pointer_cast&lt;transport::TcpServer&gt;(pimpl_-&gt;channel_);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">if</span> (transport_server) transport_server-&gt;set_client_limit(max);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#a608d2eb423bdb1c95fbf48eea4bf9b22">  336</a></span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html">TcpServer</a>&amp; <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#a608d2eb423bdb1c95fbf48eea4bf9b22">TcpServer::set_unlimited_clients</a>() {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  pimpl_-&gt;client_limit_enabled_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">if</span> (pimpl_-&gt;channel_) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keyword">auto</span> transport_server = std::dynamic_pointer_cast&lt;transport::TcpServer&gt;(pimpl_-&gt;channel_);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">if</span> (transport_server) transport_server-&gt;set_unlimited_clients();</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#a5792d6e21525f8b119c7fb6bc91a5d7a">  345</a></span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html">TcpServer</a>&amp; <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#a5792d6e21525f8b119c7fb6bc91a5d7a">TcpServer::notify_send_failure</a>(<span class="keywordtype">bool</span> e) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  pimpl_-&gt;notify_send_failure_ = e;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="classunilink_1_1wrapper_1_1TcpServer.html#af257001e6bbcadabe5de7fc1bc9ec164">  349</a></span>&#160;<a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html">TcpServer</a>&amp; <a class="code" href="classunilink_1_1wrapper_1_1TcpServer.html#af257001e6bbcadabe5de7fc1bc9ec164">TcpServer::set_manage_external_context</a>(<span class="keywordtype">bool</span> m) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  pimpl_-&gt;manage_external_context_ = m;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}  <span class="comment">// namespace wrapper</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}  <span class="comment">// namespace unilink</span></div>
<div class="ttc" id="achannel__factory_8hpp_html"><div class="ttname"><a href="channel__factory_8hpp.html">channel_factory.hpp</a></div></div>
<div class="ttc" id="aclassunilink_1_1factory_1_1ChannelFactory_html_ab3a1a57092352b627809138adadb34a6"><div class="ttname"><a href="classunilink_1_1factory_1_1ChannelFactory.html#ab3a1a57092352b627809138adadb34a6">unilink::factory::ChannelFactory::create</a></div><div class="ttdeci">static std::shared_ptr&lt; interface::Channel &gt; create(const ChannelOptions &amp;options, std::shared_ptr&lt; boost::asio::io_context &gt; external_ioc=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="channel__factory_8cc_source.html#l00029">channel_factory.cc:29</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1ConnectionContext_html"><div class="ttname"><a href="classunilink_1_1wrapper_1_1ConnectionContext.html">unilink::wrapper::ConnectionContext</a></div><div class="ttdoc">Context for connection/disconnection events.</div><div class="ttdef"><b>Definition:</b> <a href="context_8hpp_source.html#l00054">context.hpp:54</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1ErrorContext_html"><div class="ttname"><a href="classunilink_1_1wrapper_1_1ErrorContext.html">unilink::wrapper::ErrorContext</a></div><div class="ttdoc">Context for error events.</div><div class="ttdef"><b>Definition:</b> <a href="context_8hpp_source.html#l00070">context.hpp:70</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1MessageContext_html"><div class="ttname"><a href="classunilink_1_1wrapper_1_1MessageContext.html">unilink::wrapper::MessageContext</a></div><div class="ttdoc">Context for data/message related events.</div><div class="ttdef"><b>Definition:</b> <a href="context_8hpp_source.html#l00033">context.hpp:33</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1ServerInterface_html"><div class="ttname"><a href="classunilink_1_1wrapper_1_1ServerInterface.html">unilink::wrapper::ServerInterface</a></div><div class="ttdoc">Interface for 1:N server communication (e.g., TcpServer)</div><div class="ttdef"><b>Definition:</b> <a href="iserver_8hpp_source.html#l00034">iserver.hpp:34</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1ServerInterface_html_a9cdd888c893263e473aa6d11dc183fd5"><div class="ttname"><a href="classunilink_1_1wrapper_1_1ServerInterface.html#a9cdd888c893263e473aa6d11dc183fd5">unilink::wrapper::ServerInterface::ErrorHandler</a></div><div class="ttdeci">std::function&lt; void(const ErrorContext &amp;)&gt; ErrorHandler</div><div class="ttdef"><b>Definition:</b> <a href="iserver_8hpp_source.html#l00038">iserver.hpp:38</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1ServerInterface_html_a9e34226680bde780c9197a2e9f52cd3b"><div class="ttname"><a href="classunilink_1_1wrapper_1_1ServerInterface.html#a9e34226680bde780c9197a2e9f52cd3b">unilink::wrapper::ServerInterface::ConnectionHandler</a></div><div class="ttdeci">std::function&lt; void(const ConnectionContext &amp;)&gt; ConnectionHandler</div><div class="ttdef"><b>Definition:</b> <a href="iserver_8hpp_source.html#l00037">iserver.hpp:37</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1ServerInterface_html_ac5bec7fa6fd4dfea7cda4ded6334e9e6"><div class="ttname"><a href="classunilink_1_1wrapper_1_1ServerInterface.html#ac5bec7fa6fd4dfea7cda4ded6334e9e6">unilink::wrapper::ServerInterface::MessageHandler</a></div><div class="ttdeci">std::function&lt; void(const MessageContext &amp;)&gt; MessageHandler</div><div class="ttdef"><b>Definition:</b> <a href="iserver_8hpp_source.html#l00036">iserver.hpp:36</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html">unilink::wrapper::TcpServer</a></div><div class="ttdoc">Modernized TCP Server Wrapper.</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8hpp_source.html#l00046">tcp_server.hpp:46</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_a00ec7f00722335d8291854aafd381d96"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#a00ec7f00722335d8291854aafd381d96">unilink::wrapper::TcpServer::is_listening</a></div><div class="ttdeci">bool is_listening() const override</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00259">tcp_server.cc:259</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_a0cd0713924d54d16eb3c42005c277d16"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#a0cd0713924d54d16eb3c42005c277d16">unilink::wrapper::TcpServer::send_to</a></div><div class="ttdeci">bool send_to(size_t client_id, std::string_view data) override</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00269">tcp_server.cc:269</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_a1217e27e16fa0451b75300009aedf017"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#a1217e27e16fa0451b75300009aedf017">unilink::wrapper::TcpServer::start</a></div><div class="ttdeci">std::future&lt; bool &gt; start() override</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00257">tcp_server.cc:257</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_a30745a9e9f88247048edef18045f2e11"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#a30745a9e9f88247048edef18045f2e11">unilink::wrapper::TcpServer::on_data</a></div><div class="ttdeci">ServerInterface &amp; on_data(MessageHandler handler) override</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00285">tcp_server.cc:285</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_a379244c1bfcda52a7a25f6038de3f484"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#a379244c1bfcda52a7a25f6038de3f484">unilink::wrapper::TcpServer::on_client_connect</a></div><div class="ttdeci">ServerInterface &amp; on_client_connect(ConnectionHandler handler) override</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00277">tcp_server.cc:277</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_a3bf24d44d971410dd337b58e6e7153db"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#a3bf24d44d971410dd337b58e6e7153db">unilink::wrapper::TcpServer::idle_timeout</a></div><div class="ttdeci">TcpServer &amp; idle_timeout(int timeout_ms)</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00319">tcp_server.cc:319</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_a41196195d706a2409f1bc3273e31d5be"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#a41196195d706a2409f1bc3273e31d5be">unilink::wrapper::TcpServer::stop</a></div><div class="ttdeci">void stop() override</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00258">tcp_server.cc:258</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_a45b4eb1fb1e8cd8786bf240b765d7181"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#a45b4eb1fb1e8cd8786bf240b765d7181">unilink::wrapper::TcpServer::broadcast</a></div><div class="ttdeci">bool broadcast(std::string_view data) override</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00261">tcp_server.cc:261</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_a5792d6e21525f8b119c7fb6bc91a5d7a"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#a5792d6e21525f8b119c7fb6bc91a5d7a">unilink::wrapper::TcpServer::notify_send_failure</a></div><div class="ttdeci">TcpServer &amp; notify_send_failure(bool enable=true)</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00345">tcp_server.cc:345</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_a608d2eb423bdb1c95fbf48eea4bf9b22"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#a608d2eb423bdb1c95fbf48eea4bf9b22">unilink::wrapper::TcpServer::set_unlimited_clients</a></div><div class="ttdeci">TcpServer &amp; set_unlimited_clients()</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00336">tcp_server.cc:336</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_a7feb0465a5329983630fe6e353b2ddf5"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#a7feb0465a5329983630fe6e353b2ddf5">unilink::wrapper::TcpServer::enable_port_retry</a></div><div class="ttdeci">TcpServer &amp; enable_port_retry(bool enable=true, int max_retries=3, int retry_interval_ms=1000)</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00312">tcp_server.cc:312</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_a8a1e8782aea8681f5c08a0bed88db5b9"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#a8a1e8782aea8681f5c08a0bed88db5b9">unilink::wrapper::TcpServer::set_client_limit</a></div><div class="ttdeci">TcpServer &amp; set_client_limit(size_t max_clients)</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00326">tcp_server.cc:326</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_a9836ef31e1f4c1531528ee252ea69d25"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#a9836ef31e1f4c1531528ee252ea69d25">unilink::wrapper::TcpServer::~TcpServer</a></div><div class="ttdeci">~TcpServer() override</div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_ac36e719caf5109a29e2255af720873af"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#ac36e719caf5109a29e2255af720873af">unilink::wrapper::TcpServer::auto_manage</a></div><div class="ttdeci">TcpServer &amp; auto_manage(bool manage=true)</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00306">tcp_server.cc:306</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_ac5362ca889c5b2ed23984be1ada34ec3"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#ac5362ca889c5b2ed23984be1ada34ec3">unilink::wrapper::TcpServer::get_connected_clients</a></div><div class="ttdeci">std::vector&lt; size_t &gt; get_connected_clients() const override</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00300">tcp_server.cc:300</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_ad44939f72c0a63490822845e7b2b02a3"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#ad44939f72c0a63490822845e7b2b02a3">unilink::wrapper::TcpServer::on_client_disconnect</a></div><div class="ttdeci">ServerInterface &amp; on_client_disconnect(ConnectionHandler handler) override</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00281">tcp_server.cc:281</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_af1dc28050ac533e03d8c494b7b8c97ca"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#af1dc28050ac533e03d8c494b7b8c97ca">unilink::wrapper::TcpServer::TcpServer</a></div><div class="ttdeci">TcpServer(uint16_t port)</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00251">tcp_server.cc:251</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_af257001e6bbcadabe5de7fc1bc9ec164"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#af257001e6bbcadabe5de7fc1bc9ec164">unilink::wrapper::TcpServer::set_manage_external_context</a></div><div class="ttdeci">TcpServer &amp; set_manage_external_context(bool manage)</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00349">tcp_server.cc:349</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_af36b3dfe54edca2ea39a980d14729131"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#af36b3dfe54edca2ea39a980d14729131">unilink::wrapper::TcpServer::get_client_count</a></div><div class="ttdeci">size_t get_client_count() const override</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00294">tcp_server.cc:294</a></div></div>
<div class="ttc" id="aclassunilink_1_1wrapper_1_1TcpServer_html_af9f81ab409fae99f9b02da5187e49957"><div class="ttname"><a href="classunilink_1_1wrapper_1_1TcpServer.html#af9f81ab409fae99f9b02da5187e49957">unilink::wrapper::TcpServer::on_error</a></div><div class="ttdeci">ServerInterface &amp; on_error(ErrorHandler handler) override</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00289">tcp_server.cc:289</a></div></div>
<div class="ttc" id="acommon_8hpp_html"><div class="ttname"><a href="common_8hpp.html">common.hpp</a></div></div>
<div class="ttc" id="anamespaceunilink_1_1base_html_a309474018616d324e14830540edab75c"><div class="ttname"><a href="namespaceunilink_1_1base.html#a309474018616d324e14830540edab75c">unilink::base::LinkState</a></div><div class="ttdeci">LinkState</div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00040">common.hpp:40</a></div></div>
<div class="ttc" id="anamespaceunilink_1_1base_html_a309474018616d324e14830540edab75ca03f4a47830f97377a35321051685071e"><div class="ttname"><a href="namespaceunilink_1_1base.html#a309474018616d324e14830540edab75ca03f4a47830f97377a35321051685071e">unilink::base::LinkState::Closed</a></div><div class="ttdeci">@ Closed</div></div>
<div class="ttc" id="anamespaceunilink_1_1base_html_a309474018616d324e14830540edab75ca902b0d55fddef6f8d651fe1035b7d4bd"><div class="ttname"><a href="namespaceunilink_1_1base.html#a309474018616d324e14830540edab75ca902b0d55fddef6f8d651fe1035b7d4bd">unilink::base::LinkState::Error</a></div><div class="ttdeci">@ Error</div></div>
<div class="ttc" id="anamespaceunilink_1_1base_html_a309474018616d324e14830540edab75ca962ef616821625a13a028ac14ac0fef8"><div class="ttname"><a href="namespaceunilink_1_1base.html#a309474018616d324e14830540edab75ca962ef616821625a13a028ac14ac0fef8">unilink::base::LinkState::Listening</a></div><div class="ttdeci">@ Listening</div></div>
<div class="ttc" id="anamespaceunilink_html"><div class="ttname"><a href="namespaceunilink.html">unilink</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00037">common.hpp:37</a></div></div>
<div class="ttc" id="anamespaceunilink_html_a718d86a87600ed5b3b4e597324c5d84aaf05cfcbf5123775f7c73e520a8d861e1"><div class="ttname"><a href="namespaceunilink.html#a718d86a87600ed5b3b4e597324c5d84aaf05cfcbf5123775f7c73e520a8d861e1">unilink::ErrorCode::IoError</a></div><div class="ttdeci">@ IoError</div></div>
<div class="ttc" id="astructunilink_1_1config_1_1TcpServerConfig_html"><div class="ttname"><a href="structunilink_1_1config_1_1TcpServerConfig.html">unilink::config::TcpServerConfig</a></div><div class="ttdef"><b>Definition:</b> <a href="tcp__server__config_8hpp_source.html#l00026">tcp_server_config.hpp:26</a></div></div>
<div class="ttc" id="astructunilink_1_1config_1_1TcpServerConfig_html_a23e893ec9a547edc4b3bf9f63309643e"><div class="ttname"><a href="structunilink_1_1config_1_1TcpServerConfig.html#a23e893ec9a547edc4b3bf9f63309643e">unilink::config::TcpServerConfig::idle_timeout_ms</a></div><div class="ttdeci">int idle_timeout_ms</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server__config_8hpp_source.html#l00037">tcp_server_config.hpp:37</a></div></div>
<div class="ttc" id="astructunilink_1_1config_1_1TcpServerConfig_html_ad4a94a582a7659cc4caf2c2c28e2f43b"><div class="ttname"><a href="structunilink_1_1config_1_1TcpServerConfig.html#ad4a94a582a7659cc4caf2c2c28e2f43b">unilink::config::TcpServerConfig::max_port_retries</a></div><div class="ttdeci">int max_port_retries</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server__config_8hpp_source.html#l00034">tcp_server_config.hpp:34</a></div></div>
<div class="ttc" id="astructunilink_1_1config_1_1TcpServerConfig_html_adce24401c84899b16320f528185f6636"><div class="ttname"><a href="structunilink_1_1config_1_1TcpServerConfig.html#adce24401c84899b16320f528185f6636">unilink::config::TcpServerConfig::port</a></div><div class="ttdeci">uint16_t port</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server__config_8hpp_source.html#l00027">tcp_server_config.hpp:27</a></div></div>
<div class="ttc" id="astructunilink_1_1config_1_1TcpServerConfig_html_adfd80011af7aae2a169f7c9d6cc853ee"><div class="ttname"><a href="structunilink_1_1config_1_1TcpServerConfig.html#adfd80011af7aae2a169f7c9d6cc853ee">unilink::config::TcpServerConfig::enable_port_retry</a></div><div class="ttdeci">bool enable_port_retry</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server__config_8hpp_source.html#l00033">tcp_server_config.hpp:33</a></div></div>
<div class="ttc" id="astructunilink_1_1config_1_1TcpServerConfig_html_af01c976217548c39bb297fd76b3298d0"><div class="ttname"><a href="structunilink_1_1config_1_1TcpServerConfig.html#af01c976217548c39bb297fd76b3298d0">unilink::config::TcpServerConfig::port_retry_interval_ms</a></div><div class="ttdeci">int port_retry_interval_ms</div><div class="ttdef"><b>Definition:</b> <a href="tcp__server__config_8hpp_source.html#l00035">tcp_server_config.hpp:35</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html">unilink::wrapper::TcpServer::Impl</a></div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00036">tcp_server.cc:36</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a10defb582fb338ff5d688e929e793a57"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10defb582fb338ff5d688e929e793a57">unilink::wrapper::TcpServer::Impl::on_client_connect_</a></div><div class="ttdeci">ConnectionHandler on_client_connect_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00060">tcp_server.cc:60</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a10e13cecb8abba84705b61aac61b3c51"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10e13cecb8abba84705b61aac61b3c51">unilink::wrapper::TcpServer::Impl::on_error_</a></div><div class="ttdeci">ErrorHandler on_error_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00063">tcp_server.cc:63</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a10e97ab04797fc1bfcf6f1d785cd634c"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a10e97ab04797fc1bfcf6f1d785cd634c">unilink::wrapper::TcpServer::Impl::port_</a></div><div class="ttdeci">uint16_t port_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00038">tcp_server.cc:38</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a132e8d75878579382aa6337aa79fac65"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a132e8d75878579382aa6337aa79fac65">unilink::wrapper::TcpServer::Impl::on_client_disconnect_</a></div><div class="ttdeci">ConnectionHandler on_client_disconnect_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00061">tcp_server.cc:61</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a15697310912330736e6aa14b2f677a8a"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a15697310912330736e6aa14b2f677a8a">unilink::wrapper::TcpServer::Impl::notify_send_failure_</a></div><div class="ttdeci">bool notify_send_failure_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00058">tcp_server.cc:58</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a16281559ccf16cb8df32c458fcbee2e1"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a16281559ccf16cb8df32c458fcbee2e1">unilink::wrapper::TcpServer::Impl::external_ioc_</a></div><div class="ttdeci">std::shared_ptr&lt; boost::asio::io_context &gt; external_ioc_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00040">tcp_server.cc:40</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a24a6121e7c7c101043d8eb569bbde7b3"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a24a6121e7c7c101043d8eb569bbde7b3">unilink::wrapper::TcpServer::Impl::Impl</a></div><div class="ttdeci">Impl(uint16_t port)</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00065">tcp_server.cc:65</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a2ad917f41fa296841f5d3371fee0fd6b"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a2ad917f41fa296841f5d3371fee0fd6b">unilink::wrapper::TcpServer::Impl::is_listening_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; is_listening_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00048">tcp_server.cc:48</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a4267ee74f678bf1e8f35fad91e3a717f"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a4267ee74f678bf1e8f35fad91e3a717f">unilink::wrapper::TcpServer::Impl::mutex_</a></div><div class="ttdeci">std::mutex mutex_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00037">tcp_server.cc:37</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a5f0d7044cbe8bc06f925ad6c602a9d1b"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a5f0d7044cbe8bc06f925ad6c602a9d1b">unilink::wrapper::TcpServer::Impl::idle_timeout_ms_</a></div><div class="ttdeci">int idle_timeout_ms_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00055">tcp_server.cc:55</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a61697a7b76a66ec72e66b3645c380784"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a61697a7b76a66ec72e66b3645c380784">unilink::wrapper::TcpServer::Impl::channel_</a></div><div class="ttdeci">std::shared_ptr&lt; interface::Channel &gt; channel_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00039">tcp_server.cc:39</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a66df77eb6f2bb7a35b1c6b60da0873af"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a66df77eb6f2bb7a35b1c6b60da0873af">unilink::wrapper::TcpServer::Impl::started_</a></div><div class="ttdeci">bool started_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00047">tcp_server.cc:47</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a723d7e47bee4d8ce2f882949a23eeb4b"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a723d7e47bee4d8ce2f882949a23eeb4b">unilink::wrapper::TcpServer::Impl::pending_promises_</a></div><div class="ttdeci">std::vector&lt; std::promise&lt; bool &gt; &gt; pending_promises_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00046">tcp_server.cc:46</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a7990304f06b1994f2decbc9996c35bd5"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a7990304f06b1994f2decbc9996c35bd5">unilink::wrapper::TcpServer::Impl::external_thread_</a></div><div class="ttdeci">std::thread external_thread_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00043">tcp_server.cc:43</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a8b8ab1b95d8a945e14a5d161828e729d"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a8b8ab1b95d8a945e14a5d161828e729d">unilink::wrapper::TcpServer::Impl::Impl</a></div><div class="ttdeci">Impl(std::shared_ptr&lt; interface::Channel &gt; channel)</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00094">tcp_server.cc:94</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_a8f3477df42b1fcbe0f6321fe5598189d"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#a8f3477df42b1fcbe0f6321fe5598189d">unilink::wrapper::TcpServer::Impl::port_retry_interval_ms_</a></div><div class="ttdeci">int port_retry_interval_ms_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00054">tcp_server.cc:54</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_aa9821e7dcad9bccf16387726a320e49e"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#aa9821e7dcad9bccf16387726a320e49e">unilink::wrapper::TcpServer::Impl::manage_external_context_</a></div><div class="ttdeci">bool manage_external_context_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00042">tcp_server.cc:42</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_ab5a016578e5da644275d050caa2319be"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ab5a016578e5da644275d050caa2319be">unilink::wrapper::TcpServer::Impl::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00176">tcp_server.cc:176</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_ab709e97ae055daa9ab5eac9901e4ed72"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ab709e97ae055daa9ab5eac9901e4ed72">unilink::wrapper::TcpServer::Impl::auto_manage_</a></div><div class="ttdeci">bool auto_manage_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00051">tcp_server.cc:51</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_ac4c1719442280ca5fc75a2e4f319409e"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ac4c1719442280ca5fc75a2e4f319409e">unilink::wrapper::TcpServer::Impl::work_guard_</a></div><div class="ttdeci">std::unique_ptr&lt; boost::asio::executor_work_guard&lt; boost::asio::io_context::executor_type &gt; &gt; work_guard_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00044">tcp_server.cc:44</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_ac55ff9f1031b108605323f6a22acf9bf"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ac55ff9f1031b108605323f6a22acf9bf">unilink::wrapper::TcpServer::Impl::use_external_context_</a></div><div class="ttdeci">bool use_external_context_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00041">tcp_server.cc:41</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_acc754b1bedbc5426ba62ecf552b9ee27"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#acc754b1bedbc5426ba62ecf552b9ee27">unilink::wrapper::TcpServer::Impl::port_retry_enabled_</a></div><div class="ttdeci">bool port_retry_enabled_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00052">tcp_server.cc:52</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_acde93124f9a0055182ac36eadca0c7b2"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#acde93124f9a0055182ac36eadca0c7b2">unilink::wrapper::TcpServer::Impl::start</a></div><div class="ttdeci">std::future&lt; bool &gt; start()</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00128">tcp_server.cc:128</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_ad23799728d1a8e808982031d7b010bf4"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad23799728d1a8e808982031d7b010bf4">unilink::wrapper::TcpServer::Impl::on_data_</a></div><div class="ttdeci">MessageHandler on_data_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00062">tcp_server.cc:62</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_ad40cf9e0518b8f75c7ef7288d1432c91"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad40cf9e0518b8f75c7ef7288d1432c91">unilink::wrapper::TcpServer::Impl::~Impl</a></div><div class="ttdeci">~Impl()</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00110">tcp_server.cc:110</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_ad99d9d52c6629b949fd1515dc8d26722"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ad99d9d52c6629b949fd1515dc8d26722">unilink::wrapper::TcpServer::Impl::max_port_retries_</a></div><div class="ttdeci">int max_port_retries_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00053">tcp_server.cc:53</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_ae7f852047d73a75ac48dc9d29bacd1a0"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#ae7f852047d73a75ac48dc9d29bacd1a0">unilink::wrapper::TcpServer::Impl::Impl</a></div><div class="ttdeci">Impl(uint16_t port, std::shared_ptr&lt; boost::asio::io_context &gt; external_ioc)</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00078">tcp_server.cc:78</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_af74107c041d44b81b6313b6d4f7121c8"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#af74107c041d44b81b6313b6d4f7121c8">unilink::wrapper::TcpServer::Impl::max_clients_</a></div><div class="ttdeci">size_t max_clients_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00057">tcp_server.cc:57</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_afa02bec7c4ffe754aa0a8b2da4f135a5"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afa02bec7c4ffe754aa0a8b2da4f135a5">unilink::wrapper::TcpServer::Impl::setup_internal_handlers</a></div><div class="ttdeci">void setup_internal_handlers()</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00222">tcp_server.cc:222</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_afccae4ae6f049cec7c0bec115ce35ea7"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afccae4ae6f049cec7c0bec115ce35ea7">unilink::wrapper::TcpServer::Impl::fulfill_all</a></div><div class="ttdeci">void fulfill_all(bool value)</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00117">tcp_server.cc:117</a></div></div>
<div class="ttc" id="astructunilink_1_1wrapper_1_1TcpServer_1_1Impl_html_afea8423f2eeca59f5239173af8492419"><div class="ttname"><a href="structunilink_1_1wrapper_1_1TcpServer_1_1Impl.html#afea8423f2eeca59f5239173af8492419">unilink::wrapper::TcpServer::Impl::client_limit_enabled_</a></div><div class="ttdeci">bool client_limit_enabled_</div><div class="ttdef"><b>Definition:</b> <a href="wrapper_2tcp__server_2tcp__server_8cc_source.html#l00056">tcp_server.cc:56</a></div></div>
<div class="ttc" id="atcp__server__config_8hpp_html"><div class="ttname"><a href="tcp__server__config_8hpp.html">tcp_server_config.hpp</a></div></div>
<div class="ttc" id="atransport_2tcp__server_2tcp__server_8hpp_html"><div class="ttname"><a href="transport_2tcp__server_2tcp__server_8hpp.html">tcp_server.hpp</a></div></div>
<div class="ttc" id="awrapper_2tcp__server_2tcp__server_8hpp_html"><div class="ttname"><a href="wrapper_2tcp__server_2tcp__server_8hpp.html">tcp_server.hpp</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ab04957a3ce12ad8c4b1f764ce6591a4.html">unilink</a></li><li class="navelem"><a class="el" href="dir_34a3e415d531ea922631bc75d11c4e39.html">wrapper</a></li><li class="navelem"><a class="el" href="dir_fdd6e5571e153f1d8025548436a989da.html">tcp_server</a></li><li class="navelem"><a class="el" href="wrapper_2tcp__server_2tcp__server_8cc.html">tcp_server.cc</a></li>
    <li class="footer">Generated on Thu Feb 19 2026 15:10:31 for unilink by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
